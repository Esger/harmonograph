<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1.0">
        <title>Harmonograph | Interactive Lissajous Figures</title>

        <!-- Modern Typography -->
        <link rel="preconnect"
              href="https://fonts.googleapis.com">
        <link rel="preconnect"
              href="https://fonts.gstatic.com"
              crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Outfit:wght@400;600;700&display=swap"
              rel="stylesheet">

        <link rel="stylesheet"
              href="css/screen.css">
    </head>

    <body class="dark-mode">
        <div id="app"
             class="app-container">
            <header class="main-header">
                <h1 class="logo">Harmonograph</h1>
                <div class="controls-trigger">
                    <button id="toggleControls" popovertarget="controls" aria-label="Open Settings">
                        <span class="hamburger-icon">
                            <span></span>
                            <span></span>
                            <span></span>
                        </span>
                    </button>
                </div>
            </header>

            <main class="canvas-wrapper">
                <canvas id="harmonographCanvas"></canvas>

                <div id="tooltip"
                     class="tooltip">
                    <p class="tooltip-text">Move your pointer slowly to draw</p>
                </div>
            </main>

            <aside id="controls"
                   class="controls-panel"
                   popover>
                <button class="close-btn" popovertarget="controls" aria-label="Close Settings">
                    <span class="close-icon">
                        <span></span>
                        <span></span>
                    </span>
                </button>
                <section class="control-group">
                    <div class="control-header">
                        <h3>Pendulums</h3>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="naturalMode" checked>
                            <span class="checkbox-label">Natural</span>
                        </label>
                    </div>
                    <div class="input-wrapper">
                        <input type="range" id="dimensions" min="1" max="4" value="4" step="1">
                        <span class="value-display" id="dimensionsValue">4</span>
                    </div>
                </section>

                <section class="control-group">
                    <h3>Swing</h3>
                    <div class="input-wrapper">
                        <input type="range" id="rotation" min="0" max="1" value="0" step="0.01">
                        <span class="value-display" id="rotationValue">0</span>
                    </div>
                </section>

                <section class="control-group">
                    <h3>Damping</h3>
                    <div class="input-wrapper">
                        <input type="range" id="damping" min="0" max="100" value="30" step="1">
                        <span class="value-display" id="dampingValue">30</span>
                    </div>
                </section>

                <section class="control-group">
                    <h3>Thickness</h3>
                    <div class="input-wrapper">
                        <input type="range" id="thickness" min="0.5" max="5" value="1" step="0.25">
                        <span class="value-display" id="thicknessValue">1.0</span>
                    </div>
                </section>

                <section class="control-group">
                    <div class="control-header">
                        <h3>Color</h3>
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="customColor">
                            <span class="checkbox-label">Custom</span>
                        </label>
                    </div>
                    <div class="input-wrapper rainbow-mode"
                         id="colorPickerContainer">
                        <input type="color" id="lineColor" value="#6366f1">
                        <span class="value-display" id="colorValue">RAINBOW</span>
                    </div>
                </section>

                <footer class="controls-footer">
                    <button id="downloadBtn" class="btn btn-primary">
                        Download Piece <span class="shortcut-hint">D</span>
                    </button>
                    <button id="resetBtn" class="btn btn-secondary">Reset</button>
                </footer>
            </aside>

            <footer class="app-footer">
                <p>&copy; <span id="currentYear"></span> ashWare | Created with &hearts;</p>
            </footer>
        </div>

        <script type="module"
                src="js/harmonograph.js"></script>
    </body>

</html>